\section{Mathematical Preliminaries: Category Theory, Topos Theory, and Monoidal $\dagger$-Categories}

In this section, we provide a self-contained overview of the mathematical concepts that form the backbone of our approach. We begin with the basics of category theory, introducing the notions of categories, functors, and natural transformations, along with elementary examples that will be useful later. We then summarize key elements of \textbf{topos theory}, which generalizes set theory to a categorical context; this gives us a language to discuss ``spaces of varying logic,'' crucial for our treatment of classical and quantum contexts. Finally, we delve into \textbf{monoidal categories} and \textbf{$\dagger$-categories} (dagger categories), which together capture the algebraic structure of quantum theory (such as composition of systems and the involution corresponding to adjoint or Hermitian conjugation). Throughout, we state formal definitions, examples, and some foundational theorems, and we foreshadow the important coherence and completeness results that will be addressed in Section~5.

\vspace{1em}
\subsection{Category Theory Basics}

A \textbf{category} $\mathcal{C}$ consists of a collection of \emph{objects} (denoted $A, B, X, Y,$ etc.) and a collection of \emph{morphisms} (or \emph{arrows}) between objects. For each ordered pair of objects $(A,B)$, there is a set $\mathrm{Hom}_{\mathcal{C}}(A,B)$ of morphisms from $A$ to $B$. We typically write $f: A \to B$ to indicate $f$ is a morphism with domain $A$ and codomain $B$. These morphisms can be composed: if $f: A\to B$ and $g: B \to C$ are morphisms in $\mathcal{C}$, then there is a composite morphism $g\circ f: A \to C$. Composition is required to be \textit{associative}: $(h \circ g)\circ f = h \circ (g \circ f)$ whenever the compositions are defined. Moreover, every object $A$ has an \textit{identity morphism} $\mathrm{id}_A: A \to A$ serving as a two-sided unit for composition: $f \circ \mathrm{id}_A = f = \mathrm{id}_B \circ f$ for any $f: A \to B$.

\vspace{1em}
\begin{example}\label{ex:Set-cat}
\textbf{Set and $\mathbf{Rel}$ as categories.} The collection of all sets forms a category $\mathbf{Set}$: the objects are sets, and the morphisms are functions between sets. Composition is the usual composition of functions, and identity morphisms are identity functions. This is perhaps the most familiar category and indeed serves as the prototype for the concept of a category. Another related example is the category $\mathbf{Rel}$: objects are sets but morphisms from $A$ to $B$ are \emph{relations} $R \subseteq A\times B$, with a special composition rule for relations. These illustrate that categories can have different kinds of arrows (not just functions) while still obeying the same abstract composition axioms.
\end{example}

\vspace{1em}
\begin{example}\label{ex:Grp-cat}
\textbf{Groups and topological spaces as categories.} There are many categories built from mathematical structures. For instance, $\mathbf{Grp}$ is the category whose objects are groups and whose morphisms are group homomorphisms. Likewise, $\mathbf{Top}$ is the category of topological spaces with continuous maps as morphisms. In physics, one often considers $\mathbf{Vect}$ or $\mathbf{FdVect}$, the category of (finite-dimensional) vector spaces with linear maps, or $\mathbf{Hilb}$, the category of Hilbert spaces with bounded linear operators as morphisms. These categories provide the arena for much of classical and quantum mechanics respectively (e.g. state spaces and linear transformations).
\end{example}

\vspace{1em}
A \textbf{functor} is a structure-preserving map between categories. More precisely, given two categories $\mathcal{C}$ and $\mathcal{D}$, a functor $F: \mathcal{C} \to \mathcal{D}$ assigns to each object $X$ in $\mathcal{C}$ an object $F(X)$ in $\mathcal{D}$, and to each morphism $f: X \to Y$ in $\mathcal{C}$ a morphism $F(f): F(X) \to F(Y)$ in $\mathcal{D}$, such that two conditions hold: (i) $F(\mathrm{id}_X) = \mathrm{id}_{F(X)}$ for every object $X$, and (ii) $F(g\circ f) = F(g)\circ F(f)$ for every pair of composable morphisms $X \xrightarrow{f} Y \xrightarrow{g} Z$ in $\mathcal{C}$. These conditions ensure that the functor preserves the categorical structure (identities and composition).

\vspace{1em}
Functors are the means by which we will relate one category (e.g. a quantum structure category) to another (e.g. a classical structure category or topos). For example, a functor could map each quantum observable (as a morphism in a certain category of algebras) to a corresponding classical observable (as a morphism in a category of sets or spaces), respecting composition (so that the relation between observables is preserved as the relation between their classical counterparts). We will see concrete instances of functors bridging physics realms in Section~3.

\vspace{1em}
An important higher-level notion is that of a \textbf{natural transformation} between two functors. Suppose $F, G: \mathcal{C} \to \mathcal{D}$ are two functors from category $\mathcal{C}$ to category $\mathcal{D}$. A natural transformation $\eta: F \Rightarrow G$ consists of a family of morphisms in $\mathcal{D}$, ${\eta_X: F(X) \to G(X)}_{X \in \mathrm{Ob}(\mathcal{C})}$, one for each object $X$ of $\mathcal{C}$, such that for every morphism $f: X \to Y$ in $\mathcal{C}$, the following \emph{naturality square} commutes:
\begin{equation}\label{diag:naturality}
\begin{tikzcd}
F(X) \arrow[r, "\eta_X"] \arrow[d, "F(f)"'] & G(X) \arrow[d, "G(f)"] \\
F(Y) \arrow[r, "\eta_Y"'] & G(Y)
\end{tikzcd}
\end{equation}
which algebraically means $G(f)\circ \eta_X = \eta_Y \circ F(f)$. Intuitively, $\eta$ provides a systematic way to transform the outputs of functor $F$ into the outputs of functor $G$, in a manner that is compatible with any structural maps coming from $\mathcal{C}$. Natural transformations play a crucial role when comparing different functorial semantics of a theory (for instance, two different ways of assigning classical data to a quantum system might be related by a natural transformation).

\vspace{1em}
We note a simple but useful interpretation: a functor $F: \mathcal{C}\to \mathcal{D}$ can be thought of as an \textbf{analogy} or translation: $\mathcal{C}$-morphisms $f: X\to Y$ are analogous to (or translated as) the $\mathcal{D}$-morphisms $F(f): F(X)\to F(Y)$. A natural transformation $\eta: F\Rightarrow G$ is then a systematic way to deform one such translation to another. These ideas become concrete when $\mathcal{C}$ is a category of physical systems under one description and $\mathcal{D}$ under another, and functors express how one description maps into the other.

\vspace{1em}
Before moving on, we highlight that category theory provides an abstract language that often reveals analogies between different fields. For example, the notion of a \textbf{universal property} (like products, coproducts, or limits) is phrased in terms of morphisms with certain uniqueness properties, which can define familiar constructions (such as the direct product of sets or the Cartesian product of spaces) without referring to elements. In physics, universal properties can characterize things like the \emph{tensor product} of state spaces (as a categorical product in a suitable category), or the \emph{pullback} of solution spaces under constraints. We will encounter some categorical universal constructions implicitly, especially in the context of limits in Section~6.

\vspace{1.5em}
\subsection{Topos Theory: Categories as Universes of Sets}

While category theory gives a very general framework, \textbf{topos theory} introduces additional structure that makes a category behave much like the category of sets (with an internal logic and "points" or generalized elements). An \textbf{elementary topos} is a category that can serve as an alternative universe of sets and logic. Formally, an elementary topos $\mathcal{E}$ is a category that has finite limits (in particular, a terminal object $1$ and all pullbacks), is \emph{cartesian closed} (meaning for each object $Y$, the functor $-\times Y$ has a right adjoint, so we have an "exponential object" $Y^X$ representing the morphisms from $X$ to $Y$), and has a \emph{subobject classifier}. In simpler terms:
\begin{itemize}
	\item $\mathcal{E}$ has a terminal object $1$ (analogous to a singleton set) and all finite limits (so it has products $X\times Y$ and equalizers, etc., ensuring one can do constructions like intersections or simultaneous solutions of equations).
	\item $\mathcal{E}$ is cartesian closed, which means for any objects $X, Y$ in $\mathcal{E}$, there is an object $Y^X$ (a kind of "function space") and an evaluation morphism, with the property that morphisms $Z \to Y^X$ correspond naturally to morphisms $Z \times X \to Y$. This mirrors the fact that in $\mathbf{Set}$, for any sets $X, Y$, the set of functions $X \to Y$ exists.
	\item $\mathcal{E}$ has a \emph{subobject classifier}, an object $\Omega$ that plays the role of the set of truth values (like $\{\text{false}, \text{true}\}$ in $\mathbf{Set}$). More precisely, for any monomorphism (subobject) $m: A \hookrightarrow X$ in $\mathcal{E}$, there is a unique morphism $\chi_m: X \to \Omega$ (called its \emph{characteristic arrow}) such that the subobject $m$ is the pullback of a universal monomorphism $\texttt{true}: 1 \to \Omega$. This $\Omega$ allows the internal definition of logical predicates.
\end{itemize}

\vspace{1em}
In summary, one common definition is: \emph{A topos (or elementary topos) is a cartesian closed category with finite limits and a subobject classifier $\Omega$.} This encapsulates a category that has enough structure to interpret a form of higher-order logic internally.

\vspace{1em}
\begin{example}\label{ex:Set-topos}
\textbf{The category of sets $\mathbf{Set}$ is a topos.} Indeed, $\mathbf{Set}$ has all finite limits, is cartesian closed (the exponential $Y^X$ is the set of all functions from $X$ to $Y$), and has a subobject classifier (the set $\Omega = \{0,1\}$ classifies subsets: for any injection $A \subseteq X$, the characteristic function $\chi: X \to \{0,1\}$ maps elements of $A$ to $1$ (true) and others to $0$ (false)). Thus $\mathbf{Set}$ is the paradigmatic example of a topos. In fact, any topos can be thought of as a category of "generalized sets" where $\Omega$ plays the role of truth values for membership.
\end{example}

\vspace{1em}
\begin{example}\label{ex:Sh-topos}
\textbf{Topos of sheaves on a space.} For a topological space $M$, one can consider $\mathbf{Sh}(M)$, the category of sheaves on $M$. A sheaf is a structure that assigns to each open set $U$ of $M$ a set of sections (possible information localized on $U$), in a way compatible with restriction to smaller open sets. $\mathbf{Sh}(M)$ is an elementary topos. Intuitively, it behaves like the category of sets but "varying continuously over $M$." This topos has an internal logic that can be seen as intuitionistic logic over the space $M$, and it is a classical example in which the law of excluded middle need not hold internally (since sections might only be locally, not globally, decidable). Topos theory generalizes this to consider sheaves on more general sites (categories with a notion of covering), yielding a large class of topoi which include models of various geometries and logics.
\end{example}

\vspace{1em}
The reason topos theory enters our discussion is that it provides a framework to discuss \textbf{spaces and logical contexts in a unified way}. In particular, we will use topoi to model classical state spaces or spacetime backgrounds in physics. Instead of working with a single fixed spacetime as a set or manifold, one might work in a topos that encodes varying spatio-temporal contexts or even a quantum spectrum of possibilities. A notable application, pioneered by Isham, Butterfield, DÃ¶ring, and others, is reformulating quantum theory in a topos other than $\mathbf{Set}$, to effectively replace the non-Boolean logic of quantum propositions with an internal logic of a suitable topos that is more classical in flavor.

\vspace{1em}
A particularly important construction is the \textbf{presheaf topos}. Given any category $\mathcal{C}$, one can form the category $[\mathcal{C}^{op}, \mathbf{Set}]$ of all contravariant functors from $\mathcal{C}$ to $\mathbf{Set}$ (also called set-valued presheaves on $\mathcal{C}$). This presheaf category is always a topos. It generalizes the idea of taking varying sets indexed by $\mathcal{C}$. If $\mathcal{C}$ is viewed as a category of ``contexts'' or measurement settings, a presheaf on $\mathcal{C}$ can be thought of as assigning to each context a set of outcomes or states, in a consistent way as contexts change (contravariantly). We will see this idea when we discuss functorial mappings of quantum systems to topoi: a quantum system can be associated with a presheaf on the category of its classical contexts, known as the \textbf{spectral presheaf}, which aggregates the spectra (possible classical outcomes) of all its commutative subalgebras of observables.

\vspace{1em}
Summarizing, topoi are highly structured categories that can serve as the home for mathematical physics in various guises. In our unification program, a topos will often stand in for what one might normally call a ``state space'' or a ``universe of discourse'' for classical physics, enriched with logical structure. The link to logic is important: a topos has an internal language (an intuitionistic higher-order logic) in which one can interpret physical propositions. For instance, in a quantum topos approach, a statement like ``$A$ lies in $\Delta$'' (for observable $A$ and range $\Delta$) can be seen as a certain subobject of the spectral presheaf, and its truth is a global element of a subobject classifier in that topos. We won't focus on the logical aspect in detail, but it underpins why topoi are appropriate for relating to classical physics: classical physics can be seen as happening in the topos $\mathbf{Set}$ (with Boolean logic), whereas quantum physics might require a non-Boolean topos of presheaves.

\vspace{1.5em}
\subsection{Monoidal Categories and $*$-Categories (Dagger Categories)}

Many categories of interest in physics carry extra structure that captures how systems combine and how certain morphisms have adjoints. A \textbf{monoidal category} is a category $\mathcal{M}$ equipped with a tensor product bifunctor $\otimes: \mathcal{M} \times \mathcal{M} \to \mathcal{M}$, which is associative up to a specified natural isomorphism, and a unit object (often denoted $I$) which is a two-sided identity for the tensor up to isomorphism. More explicitly, we have natural isomorphisms called the \emph{associator}:
\begin{align*}
\alpha_{X,Y,Z}: (X\otimes Y)\otimes Z \;\cong\; X \otimes (Y \otimes Z),
\end{align*}
for all objects $X,Y,Z$, and left and right \emph{unitors}:
\begin{align*}
\lambda_X: I\otimes X \cong X, \qquad \rho_X: X\otimes I \cong X,
\end{align*}
satisfying coherence axioms (the famous \emph{pentagon} diagram for associators and \emph{triangle} diagram for unitors commute). These coherence conditions ensure that one can safely omit parentheses when writing iterated tensor products, as any two ways of parenthesizing a product of several objects are canonically isomorphic. In fact, Mac~Lane's \textbf{Coherence Theorem} for monoidal categories states that \textit{every diagram built from the associativity and unit isomorphisms commutes}, which implies that all ways of iteratively tensoring multiple objects (or morphisms) are essentially the same. Equivalently, any monoidal category is monoidally equivalent to a \emph{strict} monoidal category (one where the associativity and unit laws hold strictly). We will make use of this coherence implicitly, as it allows us not to worry about the bracketing of multiple tensor products.

\vspace{1em}
The tensor product in a monoidal category abstractly encodes the idea of combining two systems or two processes. For instance, in $\mathbf{Vect}$ or $\mathbf{Hilb}$, $\otimes$ is the usual tensor product of vector spaces or Hilbert spaces, representing the joint state space of two independent physical systems in quantum mechanics. The unit object $I$ is then the base field (like $\mathbb{C}$, thought of as the state space of a trivial one-dimensional system, sometimes identified with the vacuum or ground state context). In $\mathbf{Set}$, a (cartesian) monoidal structure is given by the direct product of sets, with the singleton set as the unit; in a monoidal category that corresponds to classical systems, $\otimes$ might represent taking a combined state space (like phase space combination). We will see the monoidal structure explicitly in our discussion of combining quantum systems and how the functorial mapping to a classical topos respects that combination.

\vspace{1em}
Another crucial concept in categories for physics is the idea of an \textbf{adjoint} or \textbf{$*$-structure} on morphisms. Many categories that formalize quantum mechanics have the property that to each morphism $f: A \to B$ one can associate a kind of ``adjoint'' morphism $f^\dagger: B \to A$. For example, in the category $\mathbf{Hilb}$, every linear operator between Hilbert spaces has an adjoint (the Hermitian conjugate). This leads to the notion of a \textbf{$*$-category} or \textbf{dagger category}. A dagger category $(\mathcal{C}, \dagger)$ is a category $\mathcal{C}$ equipped with a contravariant endofunctor $()^\dagger: \mathcal{C} \to \mathcal{C}$ that is the identity on objects and satisfies $(f^\dagger)^\dagger = f$ for every morphism $f$, and $(g\circ f)^\dagger = f^\dagger \circ g^\dagger$. In other words, it assigns to each morphism $f: A \to B$ a morphism $f^\dagger: B \to A$ (thought of as an adjoint or a formal Hermitian conjugate), such that taking adjoints reverses composition and is an involution. By identity on objects, we mean $A^\dagger = A$ on the object level, and the dagger of an identity morphism is itself.

\vspace{1em}
\begin{example}\label{ex:Hilb-dagger}
\textbf{Hilbert spaces as a dagger category.} The category $\mathbf{Hilb}$ of Hilbert spaces is a dagger category: given a morphism $f: H_1 \to H_2$ (a bounded linear operator between Hilbert spaces), its dagger $f^\dagger: H_2 \to H_1$ is defined to be the Hilbert space adjoint (the unique operator such that $\langle f(x), y \rangle = \langle x, f^\dagger(y)\rangle$ for all vectors $x\in H_1, y\in H_2$). This operation satisfies $(f^\dagger)^\dagger = f$ and $(g\circ f)^\dagger = f^\dagger \circ g^\dagger$. Unitaries (morphisms $U$ such that $U^\dagger = U^{-1}$) and self-adjoint morphisms ($H=H^\dagger$) in this category correspond to important physical notions (reversible evolutions or symmetries for unitaries, and observables or Hamiltonians for self-adjoints).
\end{example}

\vspace{1em}
\begin{example}\label{ex:Rel-dagger}
\textbf{The dagger in $\mathbf{Rel}$.} The earlier example $\mathbf{Rel}$ (sets and relations) is also a dagger category: the dagger of a relation $R: A \to B$ is its converse relation $R^\dagger: B \to A$, defined by $b \mathrel{R^\dagger} a$ iff $a \mathrel{R} b$. This is an involution and contravariantly functorial. However, $\mathbf{Rel}$ is not cartesian closed or anything like a Hilbert space category; it is just an example illustrating a $*$-structure in a different context.
\end{example}

\vspace{1em}
Often, we consider categories that are both monoidal and dagger, meaning they have a tensor product and an involution on morphisms. In this case, we usually impose that the dagger is compatible with the monoidal structure in a coherent way. Specifically, one requires that $(f \otimes g)^\dagger = f^\dagger \otimes g^\dagger$ for all morphisms $f, g$, and that the dagger of the structural isomorphisms like associators and unitors are their inverses (so that the dagger doesn't break the coherence, essentially $\alpha^\dagger = \alpha^{-1}$, etc.). A category with these properties is called a \textbf{dagger monoidal category} (or \emph{monoidal $*$-category}). Many of the categories used in categorical quantum mechanics, such as the category of finite-dimensional Hilbert spaces $\mathbf{FdHilb}$ with the usual tensor product, are dagger monoidal. Such structure allows one to talk about concepts like unitarity and Hermitian operators inside category theory. For example, an object $A$ in a dagger monoidal category is said to have a \emph{dual} (in the categorical sense) if there exist morphisms $\eta: I \to A^* \otimes A$ and $\epsilon: A \otimes A^* \to I$ satisfying the zigzag (triangle) identities, and one typically requires $(\eta)^\dagger = \epsilon$ in a dagger category. If every object has a dual in a compatible way, the category is \textbf{compact closed}, and if it also has a dagger making cups and caps symmetric, it is a \textbf{dagger compact category}. Finite-dimensional Hilbert spaces provide the prime example of a dagger compact category (with $A^* = \bar{A}$, the dual Hilbert space, $\eta$ and $\epsilon$ being the maximally entangled state and its adjoint). Dagger compactness is the categorical abstraction of having a notion of transpose or conjugation that interacts well with tensor products, underlying things like the diagrammatic calculus for quantum processes.

\vspace{1em}
The details of compactness and related properties are more technical than we need to delve into here, but one landmark result worth mentioning is that finite-dimensional Hilbert spaces are essentially the \emph{unique} model of dagger compact categories up to equivalence, in the sense that any equation between morphisms that can be derived from the axioms of a dagger compact category will hold for actual matrices (finite-dimensional linear maps), and conversely any equation between matrices that holds universally can be derived from those axioms. This is a \textbf{completeness theorem} we referred to earlier, proven by Selinger, which we will revisit in Section~5. In short, it means our categorical axioms for finite quantum processes are fully captured by Hilbert space quantum mechanics.

\vspace{1em}
To summarize this subsection: monoidal categories allow us to discuss compositions of systems and interactions within a single algebraic framework, while $*$-categories (dagger categories) allow us to incorporate the notion of adjoint operations (like taking the Hermitian conjugate of an operator, or the time-reverse of a process) directly into the category. The combination, dagger monoidal categories, provides a powerful setting for quantum theories. In the following sections, $\mathcal{Q}$ will often denote a dagger monoidal category representing quantum systems and processes, and we will ensure that our functorial mapping respects both the monoidal (compositional) structure and the dagger (adjoint) structure, so that properties like unitarity or probabilities are preserved under the mapping to the classical topos.